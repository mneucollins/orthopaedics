<!-- Navigation -->
<app-navbar></app-navbar>
<div class="modal-header">
    <h3 class="modal-title">Administration Panel</h3>
</div>

<div  style="padding: 2%;">
  <tabset>
    <tab heading="Users" select="loadUsers()">
        <div class="row">
            <p class="col-sm-12 ">
                <div class="col-sm-3 ">
                    <input ng-model="findUser" class="form-control circled search-field" type="search" placeholder="Find a User" ng-keyup="search(findUser, 1)">
                </div>
                <div class="col-sm-3 ">
                    <button class="btn btn-primary circled" ng-click="newUser()" >New User</button>
                </div>
            </p>
            <p class="col-sm-12 ">
                <div class="col-sm-4 " style="height: 350px; overflow-y: scroll;">
                    <div ng-repeat="user in result" ng-click="loadRegister(user)" style="border-style: solid; border-radius: 7px; padding: 5px; margin: 7px;  width: 90%; cursor:pointer;">{{ user.name }} </div>
                </div>
                <div class="col-sm-5 " ng-if="selectedItem">
                    <span>Name: </span>
                    <input type="text" class="form-control" ng-model="selectedItem.name">
                    <span>Username: </span>
                    <input type="text" class="form-control" ng-model="selectedItem.username">
                    <span>Password: </span>
                    <input type="password" class="form-control" ng-model="selectedItem.password">
                    <span>Role: </span>
                    <select class="form-control" ng-model="selectedItem.role" ng-options="role.name for role in roles track by role._id"></select>
                    <span>Email: </span>
                    <input type="text" class="form-control" ng-model="selectedItem.email">
                    <input type="checkbox" ng-model="selectedItem.isActive" class="ng-pristine ng-valid ng-touched"> Is Active<br>
                    <button class="btn btn-primary circled" ng-click="saveUserChanges()" style="float: right;">Save</button>
                    <button class="btn btn-default circled" ng-click="cancelChanges()" style="float: right;">Cancel</button>
                </div>
            </p>
        </div>
    </tab>
    <tab heading="Roles">Static content Roles</tab>
    <tab heading="Physicians" select="loadPhysicians()">
        <div class="row">
            <p class="col-sm-12 ">
                <div class="col-sm-3 ">
                    <input type="text" class="form-control" ng-model="findUser" ng-keyup="search(findUser, 3)">
                </div>
            </p>
            <p class="col-sm-12 ">
                <div class="col-sm-6 ">
                    <div ng-repeat="physician in result" ng-click="loadRegister(physician)" style="border-style: solid; border-radius: 7px; padding: 5px; margin: 7px;  width: 40%; cursor:pointer;">{{ physician.name }} </div>
                </div>
                <div class="col-sm-5 ">
                    <span>First Name: </span>
                    <input type="text" class="form-control" ng-model="selectedItem.firstName">
                    <span>Last Name: </span>
                    <input type="text" class="form-control" ng-model="selectedItem.lastName">
                    <span>Name: </span>
                    <input type="text" class="form-control" ng-model="selectedItem.name">
                    <span>Department: </span>
                    <input type="text" class="form-control" ng-model="selectedItem.department">
                    <span>Email: </span>
                    <input type="text" class="form-control" ng-model="selectedItem.email">
                    <input type="checkbox" ng-model="selectedItem.isActive" class="ng-pristine ng-valid ng-touched"> Is Active<br>

                    <button class="btn btn-primary circled" ng-click="savePhysChanges()" style="float: right;">Save</button>
                </div>
            </p>
        </div>
    </tab>
    <tab heading="Messages">
        <messages-config></messages-config>
    </tab>
    <tab heading="General">
        <general-config></general-config>
    </tab>
  </tabset>
</div>